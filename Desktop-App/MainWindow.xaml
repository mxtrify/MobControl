<Window x:Class="MobControlUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MobControlUI"
        xmlns:viewModel="clr-namespace:MobControlUI.MVVM.ViewModel"
        xmlns:view="clr-namespace:MobControlUI.MVVM.View"
        mc:Ignorable="d"
        Height="500" Width="900"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="Transparent"
        AllowsTransparency="True">

    <Grid MouseLeftButtonDown="Root_MouseLeftButtonDown">

        <Border Background="#272537" 
                CornerRadius="10"
                ClipToBounds="True"
                SnapsToDevicePixels="True"/>

        <StackPanel Orientation="Horizontal"
                  HorizontalAlignment="Right"
                  VerticalAlignment="Top"
                  Margin="0">

            <!-- Minimize (square corners) -->
            <Button Width="40" Height="20" Padding="0"
                    Click="Min_Click"
                    Background="YellowGreen" BorderBrush="#3C3E52" BorderThickness="1">
                <TextBlock Text="—" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Button>

            <!-- Close with rounded TOP-RIGHT to match window corner -->
            <Button Width="40" Height="20" Padding="0" Margin="6,0,0,0"
                    Click="Close_Click"
                    Background="OrangeRed" BorderBrush="#3C3E52" BorderThickness="1">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="0,12,0,0">
                            <!-- TL,TR,BR,BL -->
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#FF5A36"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#E64628"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
                <TextBlock Text="✕" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Button>
        </StackPanel>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="70"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2">
                <TextBlock Text="MobControl Desktop Application"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Left"
                           Foreground="White"
                           FontSize="40"
                           FontFamily="{StaticResource DotoR}"
                           Padding="20,20,0,20"/>

            </Border>

            <StackPanel Grid.Row="1">

                <RadioButton Content="Home"
                             Height="50"
                             Foreground="White"
                             FontSize="16"
                             Style="{StaticResource MenuButtonTheme}"
                             IsChecked="True"
                             Command="{Binding HomeViewCommand}"/>

                <RadioButton Content="Controllers"
                             Height="50"
                             Foreground="White"
                             FontSize="16"
                             Style="{StaticResource MenuButtonTheme}"
                             Command="{Binding ControllerViewCommand}"/>

                <RadioButton Content="Create Mapping"
                             Height="50"
                             Foreground="White"
                             FontSize="16"
                             Style="{StaticResource MenuButtonTheme}"
                             Command="{Binding CreateMappingViewCommand}"/>

                <RadioButton Content="View Mappings"
                             Height="50"
                             Foreground="White"
                             FontSize="16"
                             Style="{StaticResource MenuButtonTheme}"
                             Command="{Binding ViewMappingsViewCommand}"/>

                <RadioButton Content="Logs"
                             Height="50"
                             Foreground="White"
                             FontSize="16"
                             Style="{StaticResource MenuButtonTheme}"
                             Command="{Binding LogsViewCommand}"/>

            </StackPanel>

            <ContentControl Grid.Row="1"
                            Grid.Column="1"
                            Margin="10"
                            Content="{Binding CurrentView}"/>

        </Grid>
    </Grid>

    <Window.Resources>
        <DataTemplate DataType="{x:Type viewModel:HomeViewModel}">
            <view:HomeView/>
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModel:ControllerViewModel}">
            <view:ControllerView/>
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModel:CreateMappingViewModel}">
            <view:CreateMappingView/>
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModel:ViewMappingsViewModel}">
            <view:ViewMappingsView/>
        </DataTemplate>
        
        <DataTemplate DataType="{x:Type viewModel:LogsViewModel}">
            <view:LogsView/>
        </DataTemplate>
    </Window.Resources>
    
</Window>